name: keras-preprocess-transformer-etl

runtime:
  image: aistorage/transformer_keras_preprocess:latest
  env:
    - name: TRANSFORM
      value: '{"rotation_range": 20, "width_shift_range": 0.2, "height_shift_range": 0.2, "horizontal_flip": true}'
    - name: FORMAT
      value: "JPEG"

# Communication protocol: hpull://, hpush://, or ws://
# See https://github.com/NVIDIA/aistore/blob/main/docs/etl.md#communication-mechanisms
communication: hpull://

# Argument mode: "" (default) or "fqn" (mounts host filesystem inside ETL container)
argument: fqn

# Timeout settings
init_timeout: 5m    # Max time to initialize the ETL container
obj_timeout: 30s    # Max time to process a single object

# Enables zero-copy optimization for bucket-to-bucket transformations
support_direct_put: true 